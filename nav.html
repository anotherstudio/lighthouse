<ul class="site-header__grid grid gutter-x items-center list-reset">
	<li class="col-4">
		<a href="/">
			<img
				loading="lazy"
				class="site-header__logo"
				alt="Lighthouse logo"
				src="assets/images/header__logo.svg"
			/>
		</a>
	</li>
	<li class="col-4">
		<a href="" class="heading--eyebrow site-header__link"></a>
	</li>
	<li class="col-4">
		<a href="" class="heading--eyebrow site-header__link"></a>
	</li>
</ul>

<script>
	function setActiveNav() {
		const currentPath = window.location.pathname;
		const navLinks = document.querySelectorAll(".site-header__link");

		navLinks.forEach((link) => {
			if (link.getAttribute("href") === currentPath) {
				link.classList.add("active");
			}
		});
	}

	setActiveNav();
</script>

<script>
	const apiUrl = "https://lighthouse-strapi-cms.jxe8y0.easypanel.host";
	const authToken =
		"Bearer f83b08d3aefbfa313bb074e1f69f8884981f819d779a118a41b81120aa41db455b868afe96418ecaa2cc7cb7709db29edebb7dae190fbc7e7554706254935b2f34f2ad2b80d54b47f4a9e2718546ccec224e892034349ac2557c5cb5ebe308baf7dcbe8c6e377dd6dcc3d34ed4132c2418c9277006bccc68d2211d823760234f";
	const endpoint = "global";
	const populatedData = "?populate=navigation.links";

	fetch(`${apiUrl}/api/${endpoint}${populatedData}`, {
		headers: {
			Authorization: authToken,
		},
	})
		.then((response) => {
			if (!response.ok) {
				throw new Error(`HTTP error! Status: ${response.status}`);
			}
			return response.json();
		})
		.then((data) => {
			const navigationLinks = data.data.attributes.navigation.links;

			navigationLinks.forEach((link, index) => {
				const navLinkElements = document.querySelectorAll(
					"#nav-placeholder .site-header__link"
				);

				if (index < navLinkElements.length) {
					navLinkElements[index].setAttribute("href", link.href);
					navLinkElements[index].textContent = link.label;
				}
			});
		})
		.catch((error) => {
			console.error("Error fetching data:", error);
		});
</script>
